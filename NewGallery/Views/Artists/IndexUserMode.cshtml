@model IEnumerable<NewGallery.Models.Artist>

@{
    Layout = "~/Views/Shared/_LayoutUserMode.cshtml";
    ViewBag.Title = "Index";
}
<link href="@Url.Content("~/Content/Customer.css")" rel="stylesheet" type="text/css" />

<h2>Artist</h2>

<!--
<p>
    @Html.ActionLink("Create New", "Create")
</p>
-->
<!--User cant create artist-->


<table style="width:100%">
    <tr>
        <th id="searcher" style="background-color :lightgreen">
            <form action="/Artists/Search" method="get">
                Enter Full name: to search<br>
                <input type="text" name="name">
                <input type="submit" value="Search">
                <br>
                <br>
                Enter Favorite Style to search:<br>
                <input type="text" name="favstyle">
                <input type="submit" value="Search">
                <br>
                <br>
                Enter Rate to serch:<br>
                <input type="text" name="rate">
                <input type="submit" value="Search">
                <br>
                <br>
                <br /><br />
            </form>
            <p>

                <input type="text" id="textsearch" placeholder="For quick name filter...">

            </p>
        </th>
        <th colspan="2">
            <table class="table">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.ArtistName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FavoriteStyle)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Rate)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.ArtistName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FavoriteStyle)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Rate)
                        </td>
                        <td>
                            @Html.ActionLink("Details", "Details", new { id = item.ArtistID })
                        </td>
                    </tr>
                }

            </table>
        </th>
    </tr>
</table>

<script src="~/js/jquery-3.3.1.min.js"></script>
<script>
    $("#textsearch").on("keyup", function () {

        var textenter = $(this).val();
        $("table tr").each(function (res) {
            if (res !== 0) {
                var id = $(this).find("td:nth-child(1)").text();
                if (id.indexOf(textenter) !== 0 && id.toLowerCase().indexOf(textenter.toLowerCase()) < 0) {
                    $(this).hide();
                }
                else {
                    $(this).show();
                }
            }
        });
    });</script>
